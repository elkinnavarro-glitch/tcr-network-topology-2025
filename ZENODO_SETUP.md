# Zenodo Integration Guide

## Complete Instructions for Archiving this Repository on Zenodo

This document provides step-by-step instructions for linking this GitHub repository to Zenodo for permanent open-access archival with automatic DOI generation.

---

## QUICK START (5 minutes)

### Step 1: Create a Zenodo Account

1. Navigate to https://zenodo.org (or https://sandbox.zenodo.org for testing)
2. Click "Sign up" in the top-right corner
3. Register with GitHub credentials (recommended) or email
4. Verify your email address
5. Complete your profile with:
   - Full name
   - ORCID (optional but recommended): https://orcid.org/register
   - Affiliation: Research Center for Life Sciences (CICV), Universidad Simón Bolívar

### Step 2: Enable GitHub Integration

1. Log in to Zenodo
2. Go to Settings → GitHub (or directly: https://zenodo.org/account/settings/github/)
3. Click "Connect" next to your GitHub username
4. Authorize Zenodo to access your public GitHub repositories
5. In the list of repositories, find **tcr-network-topology-2025** and toggle it ON

### Step 3: Create a Release on GitHub

1. Navigate to https://github.com/elkinnavarro-glitch/tcr-network-topology-2025/releases
2. Click **"Create a new release"**
3. Fill in the following:
   - **Tag version:** `v1.0.0`
   - **Release title:** `Network Topology Analysis of TCR Repertoires - v1.0`
   - **Description:** (see template below)
   - **Attach binaries:** (optional; you can upload the PDF manuscript here)
   - Check "This is a pre-release" if not yet published
4. Click **"Publish release"**

**Release Description Template:**

```
First complete release of the TCR Network Topology analysis manuscript and code.

This release includes:
- Complete PNAS Research Report manuscript (~8,200 words)
- Network analysis code (Python scripts for null models, classification, figure generation)
- Processed datasets: network edgelists and statistical summaries for EBV, CMV, SARS-CoV-2, and Influenza TCR repertoires
- Machine learning classifier with feature importance analysis
- Reproducible Colab notebooks for all major analyses

For details, see PNAS_MANUSCRIPT_COMPLETE.md and README.md.

Datasets:
- ~147,832 public TCR β-chain sequences from VDJdb
- Configuration model null networks (100 replicates per pathogen)
- Leave-one-HLA-out robustness analysis
- Vaccine-induced TCR dynamics (SARS-CoV-2 post-vaccination, ImmuneCODE cohort)

Usage:
See README.md for installation and quick-start instructions.

Citation:
@software{navarro2025tcr_network_topology,
  author = {Navarro Quiroz, Elkin and [Co-authors]},
  title = {{tcr-network-topology-2025}: Network Topology Reveals Non-Neutral Evolution in Public T-Cell Receptor Repertoires},
  url = {https://github.com/elkinnavarro-glitch/tcr-network-topology-2025},
  year = {2025},
  doi = {[DOI will be generated by Zenodo]},
  note = {v1.0.0}
}
```

### Step 4: Verify Zenodo Integration

1. Return to Zenodo Settings → GitHub
2. Within **2-3 minutes**, your release should appear in the "Published" section
3. Click the release title to view your archived deposit
4. You should see a **DOI badge** (e.g., `10.5281/zenodo.XXXXXXX`)

### Step 5: Update Your GitHub Repository

1. Edit the main **README.md** and add the DOI badge at the top:

```markdown
[![DOI](https://zenodo.org/badge/XXXXXXX.svg)](https://zenodo.org/record/XXXXXXX)
```

2. Update citation instructions:

```markdown
## Citation

If you use this code or data, please cite:

Navarro Quiroz, E., et al. (2025). Network Topology of Public T-Cell Receptor Repertoires Reveals Selection Against Promiscuous Cross-Reactivity. *PNAS*, doi:10.1073/pnas.XXXXXXXXX

**Software & Data Archive:**

Navarro Quiroz, E., et al. (2025). tcr-network-topology-2025: Network Topology Analysis of TCR Repertoires [Data set & Code]. Zenodo. https://doi.org/10.5281/zenodo.XXXXXXX
```

3. Commit and push to GitHub

---

## DETAILED ZENODO METADATA EDITING

### Accessing the Deposit

Once the release is archived:

1. Go to your Zenodo record URL (e.g., https://zenodo.org/record/XXXXXXX)
2. Click **"Edit"** (if you're the owner)
3. Modify the following fields to ensure complete metadata:

### Recommended Metadata

| Field | Suggested Value |
|-------|------------------|
| **Publication date** | December 8, 2025 |
| **Title** | Network Topology of Public T-Cell Receptor Repertoires Reveals Selection Against Promiscuous Cross-Reactivity |
| **Description** | See template below |
| **Resource type** | Software |
| **Open Access** | Yes |
| **License** | MIT License |
| **Creators** | Elkin Navarro Quiroz, ORCID: [YOUR_ORCID], Affiliation: Universidad Simón Bolívar, Colombia |
| **Contributors** | [List co-authors with ORCIDs] |
| **Keywords** | T-cell receptor; network topology; TCR repertoire; generative probability; null models; machine learning; public clones; cross-reactivity |
| **Language** | English |
| **Related Publications** | [Link to preprint or published manuscript] |
| **Funding** | [Funding agency if applicable] |
| **Subject (LCSH)** | T-cell receptors--Mathematical models; Immunology--Computational methods; Bioinformatics; Networks; Probability |

### Description Template

```
Code and data for the PNAS manuscript "Network Topology of Public T-Cell Receptor Repertoires Reveals Selection Against Promiscuous Cross-Reactivity."

## Scope

This archive contains:

1. **Manuscript** (PNAS_MANUSCRIPT_COMPLETE.md): ~8,200-word Research Report including title page, abstract, significance statement, introduction, five experiments (results), discussion with falsationist framework, materials & methods, and references.

2. **Code** (src/ directory):
   - Network construction and null model generation
   - Configuration model rewiring (Maslov-Sneppen)
   - Power-law degree distribution fitting (Clauset-Shalizi-Newman test)
   - Machine learning classifier (random forest)
   - Leave-one-HLA-out robustness analysis
   - Colab notebooks for reproducible analysis

3. **Data** (data/ directory):
   - Network edgelists: 4 pathogenic TCR networks (EBV, CMV, SARS-CoV-2, Influenza)
   - Summary statistics (node count, edge count, clustering coefficient, etc.)
   - Null model statistics (100 replicates per pathogen)
   - Power-law distribution analysis results
   - HLA allele robustness metrics
   - Vaccine-induced TCR network kinetics (SARS-CoV-2, ImmuneCODE cohort)
   - Machine learning predictions and cross-validation results

4. **Figures & Tables**: Publication-ready visualizations for all main and supplementary results

## Reproducibility

Full reproducibility instructions: See README.md

Quick start:
```bash
git clone https://github.com/elkinnavarro-glitch/tcr-network-topology-2025.git
cd tcr-network-topology-2025
pip install -r requirements.txt
python src/01_build_networks.py --input data/vdjdb_processed_complete.csv --output results/
python src/02_null_models.py --n_reps 100 --output results/
python src/generate_figures.py --results results/ --output figures/
```

## Data Sources

- **VDJdb**: Shugay M, et al. VDJdb: a curated database of T-cell receptor sequences with known antigen specificity. *Nucleic Acids Res*. 2018;46(D1):D419-D427.
- **OLGA**: Sethna Z, Elhanati Y, Callan CG Jr. Inferring the asymptotics of immune receptor repertoires. *eLife*. 2019;8:e45664.
- **ImmuneCODE** (SARS-CoV-2 vaccine cohort): Available upon request or download from https://immunecode.org

## License

MIT License - See LICENSE file

## Citation

If using this archive, please cite as:

Navarro Quiroz, E., et al. (2025). tcr-network-topology-2025: Network Topology Analysis of TCR Repertoires [Data set & Code]. Zenodo. https://doi.org/10.5281/zenodo.XXXXXXX

Also cite the manuscript when published in PNAS.
```

---

## VERSIONING & FUTURE UPDATES

If you update the code or data in the future:

1. Create a new release on GitHub (e.g., `v1.1.0`)
2. Zenodo will automatically create a new "Version" entry with a new version-specific DOI
3. The concept DOI (without version) will resolve to the latest version
4. Update your main README.md to point to the latest DOI

---

## TROUBLESHOOTING

**Q: Why doesn't my release appear in Zenodo?**  
A: Check that:
- You've enabled GitHub integration in Zenodo Settings
- The repository is set to public
- You've created a GitHub Release (not just a commit tag)
- Allow 2-5 minutes for Zenodo to sync

**Q: Can I use the same DOI for multiple releases?**  
A: No. Each release gets a unique DOI. Use the "Concept DOI" (without version) to always resolve to the latest.

**Q: Where do I find my DOI?**  
A: On your Zenodo record page, right side panel labeled "Export" or at the top in the metadata.

**Q: How do I update the manuscript on Zenodo?**  
A: Zenodo archives are immutable. Create a new GitHub release with an updated manuscript (v1.1.0) if needed.

---

## AUTOMATED CI/CD (OPTIONAL)

For advanced workflows, you can automate Zenodo deposits via GitHub Actions. See:
- https://docs.zenodo.org/api/
- https://github.com/marketplace/actions/zenodo-deposit

---

**Last updated:** December 8, 2025  
**DOI (to be generated):** 10.5281/zenodo.XXXXXXX
